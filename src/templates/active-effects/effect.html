<form class="effect-sheet item-sheet editable" autocomplete="off">

    <!-- Effect Header -->
    <header class="sheet-header">
        <img class="effect-icon" src="{{ data.icon }}" data-edit="icon">
        <h1 class="effect-title"><input type="text" name="label" value="{{data.label}}" placeholder="{{localize 'ARCHMAGE.name'}}"/></h1>
    </header>

    <article class="sheet-content">
        <section class="sheet-body">
            <!-- Effect Configuration Tabs -->
            <nav class="sheet-tabs tabs">
                <a class="item" data-tab="details"><i class="fas fa-book"></i> {{localize "EFFECT.TabDetails"}}</a>
                <a class="item" data-tab="duration"><i class="fas fa-hourglass"></i> {{localize "EFFECT.TabDuration"}}</a>
                <a class="item" data-tab="effects"><i class="fas fa-cogs"></i> {{localize "EFFECT.TabEffects"}}</a>
            </nav>

            <div class="sheet-tabs-content">
                <!-- Details Tab -->
                <section class="tab" data-tab="details">
                    <div class="form-group">
                        <label>{{ localize "EFFECT.Icon" }}</label>
                        <div class="form-fields">
                            {{filePicker target="icon" type="image"}}
                            <input class="image" type="text" name="icon" placeholder="path/image.png" value="{{data.icon}}"/>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>{{ localize "EFFECT.Disabled" }}</label>
                        <input type="checkbox" name="disabled" {{ checked data.disabled }}/>
                    </div>

                    {{#if hasOrigin}}
                    <div class="form-group">
                        <label>{{ localize "EFFECT.Origin" }}</label>
                        <div class="form-fields">
                            <p>{{ originActor }}</p>
                        </div>
                    </div>
                    {{/if}}

                    {{#if isItemEffect}}
                    <div class="form-group">
                        <label>{{ localize "EFFECT.Transfer" }}</label>
                        <div class="form-fields">
                            <input type="checkbox" name="transfer" {{checked data.transfer}}/>
                        </div>
                    </div>
                    {{/if}}
                </section>

                <!-- Duration Tab -->
                <section class="tab" data-tab="duration">
                    <div class="form-group">
                        <label>{{ localize "EFFECT.Combat" }}</label>
                        <div class="form-fields">
                            <p>{{ combatLabel }}</p>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>{{ localize "EFFECT.StartTurns" }}</label>
                        <div class="form-fields">
                            <label>{{ localize "COMBAT.Round" }}</label>
                            <p>{{ data.duration.startRound }}</p>
                            <label>{{ localize "COMBAT.Turn" }}</label>
                            <p>{{ data.duration.startTurn }}</p>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Lasts Until</label>
                        <div class="form-fields">
                            <select name="data.duration.lastsUntil">
                                {{selectOptions effectDurations selected=data.duration.lastsUntil localize=true}}
                            </select>
                        </div>
                    </div>
                    {{#if hasSaveEnds}}
                    <div class="form-group">
                        <label>Save</label>
                        <div class="form-fields">
                            <input class="attribute-input" type="text" name="data.duration.save" value="{{data.duration.save}}" data-dtype="Number" placeholder="11"/>
                        </div>
                    </div>
                    {{/if}}
                </section>

                <!-- Effects Tab -->
                <section class="tab" data-tab="effects">
                    <div class="settings-group form-group">
                        <label>{{localize 'ARCHMAGE.ITEM.attackBonuses'}}</label>
                    </div>

                    <div class="settings-group">
                        <strong class="attribute-name">{{localize 'ARCHMAGE.ITEM.meleeAttackBonus'}}</strong>
                        <input class="attribute-input" name="data.attributes.attack.melee.bonus" type="text" value="{{data.attributes.attack.melee.bonus}}"
                               data-dtype="Number" placeholder="0" />
                    </div>

                    <div class="settings-group">
                        <strong class="attribute-name">{{localize 'ARCHMAGE.ITEM.rangedAttackBonus'}}</strong>
                        <input class="attribute-input" name="data.attributes.attack.ranged.bonus" type="text" value="{{data.attributes.attack.ranged.bonus}}"
                               data-dtype="Number" placeholder="0" />
                    </div>

                    <div class="settings-group">
                        <strong class="attribute-name">{{localize 'ARCHMAGE.ITEM.divineAttackBonus'}}</strong>
                        <input class="attribute-input" name="data.attributes.attack.divine.bonus" type="text" value="{{data.attributes.attack.divine.bonus}}"
                               data-dtype="Number" placeholder="0" />
                    </div>

                    <div class="settings-group">
                        <strong class="attribute-name">{{localize 'ARCHMAGE.ITEM.arcaneAttackBonus'}}</strong>
                        <input class="attribute-input" name="data.attributes.attack.arcane.bonus" type="text" value="{{data.attributes.attack.arcane.bonus}}"
                               data-dtype="Number" placeholder="0" />
                    </div>

                    <div class="settings-group form-group" style="padding-top: 10px;">
                        <label>{{localize 'ARCHMAGE.ITEM.defenseBonuses'}}</label>
                    </div>

                    <div class="settings-group">
                        <strong class="attribute-name">{{localize 'ARCHMAGE.ITEM.acBonus'}}</strong>
                        <input class="attribute-input" name="data.attributes.ac.value" type="text" value="{{data.attributes.ac.value}}"
                               data-dtype="Number" placeholder="0" />
                    </div>

                    <div class="settings-group">
                        <strong class="attribute-name">{{localize 'ARCHMAGE.ITEM.pdBonus'}}</strong>
                        <input class="attribute-input" name="data.attributes.pd.value" type="text" value="{{data.attributes.pd.value}}"
                               data-dtype="Number" placeholder="0" />
                    </div>

                    <div class="settings-group">
                        <strong class="attribute-name">{{localize 'ARCHMAGE.ITEM.mdBonus'}}</strong>
                        <input class="attribute-input" name="data.attributes.md.value" type="text" value="{{data.attributes.md.value}}"
                               data-dtype="Number" placeholder="0" />
                    </div>

                    <div class="settings-group">
                        <strong class="attribute-name">{{localize 'ARCHMAGE.ITEM.hpBonus'}}</strong>
                        <input class="attribute-input" name="data.attributes.hp.value" type="text" value="{{data.attributes.hp.value}}"
                               data-dtype="Number" placeholder="0" />
                    </div>

                    <div class="settings-group">
                        <strong class="attribute-name">Recoveries Bonus</strong>
                        <input class="attribute-input" name="data.attributes.recoveries.value" type="text" value="{{data.attributes.recoveries.value}}"
                               data-dtype="Number" placeholder="0" />
                    </div>

                    <div class="settings-group">
                        <strong class="attribute-name">Save Bonus</strong>
                        <input class="attribute-input" name="data.attributes.save.value" type="text" value="{{data.attributes.save.value}}"
                               data-dtype="Number" placeholder="0" />
                    </div>

                    <div class="settings-group">
                        <strong class="attribute-name">Disengage Bonus</strong>
                        <input class="attribute-input" name="data.attributes.disengage" type="text" value="{{data.attributes.disengage}}"
                               data-dtype="Number" placeholder="0" />
                    </div>

                    <div class="settings-group form-group" style="padding-top: 10px;">
                        <label>Penalties</label>
                    </div>

                    <div class="settings-group">
                        <strong class="attribute-name">Denies usage of Escalation Die</strong>
                        <input type="checkbox" name="data.blockedFromEscalationDie" value="1" data-dtype="Boolean" {{checked data.blockedFromEscalationDie}} />
                    </div>

                    <div class="settings-group">
                        <strong class="attribute-name">Ongoing Damage</strong>
                        <input class="attribute-input" type="text" name="data.ongoingDamage" value="{{data.ongoingDamage}}" data-dtype="Number" placeholder="0"/>
                    </div>
                </section>
            </div>
        </section>
    </article>
</form>
